(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))f(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&f(p)}).observe(document,{childList:!0,subtree:!0});function s(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function f(u){if(u.ep)return;u.ep=!0;const l=s(u);fetch(u.href,l)}})();var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var je,at;function ce(){if(at)return je;at=1;function n(i,s,f,u,l,p){return{tag:i,key:s,attrs:f,children:u,text:l,dom:p,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return n.normalize=function(i){return Array.isArray(i)?n("[",void 0,void 0,n.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:n("#",void 0,void 0,String(i),void 0,void 0)},n.normalizeChildren=function(i){var s=[];if(i.length){for(var f=i[0]!=null&&i[0].key!=null,u=1;u<i.length;u++)if((i[u]!=null&&i[u].key!=null)!==f)throw new TypeError(f&&(i[u]!=null||typeof i[u]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var u=0;u<i.length;u++)s[u]=n.normalize(i[u])}return s},je=n,je}var Ut=ce(),Rt=function(){var n=arguments[this],i=this+1,s;if(n==null?n={}:(typeof n!="object"||n.tag!=null||Array.isArray(n))&&(n={},i=this),arguments.length===i+1)s=arguments[i],Array.isArray(s)||(s=[s]);else for(s=[];i<arguments.length;)s.push(arguments[i++]);return Ut("",n.key,n,s)},Te={}.hasOwnProperty,Ht=ce(),Vt=Rt,ye=Te,Bt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ct={};function st(n){for(var i in n)if(ye.call(n,i))return!1;return!0}function Gt(n){for(var i,s="div",f=[],u={};i=Bt.exec(n);){var l=i[1],p=i[2];if(l===""&&p!=="")s=p;else if(l==="#")u.id=p;else if(l===".")f.push(p);else if(i[3][0]==="["){var y=i[6];y&&(y=y.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[4]==="class"?f.push(y):u[i[4]]=y===""?y:y||!0}}return f.length>0&&(u.className=f.join(" ")),Ct[n]={tag:s,attrs:u}}function Kt(n,i){var s=i.attrs,f=ye.call(s,"class"),u=f?s.class:s.className;if(i.tag=n.tag,i.attrs={},!st(n.attrs)&&!st(s)){var l={};for(var p in s)ye.call(s,p)&&(l[p]=s[p]);s=l}for(var p in n.attrs)ye.call(n.attrs,p)&&p!=="className"&&!ye.call(s,p)&&(s[p]=n.attrs[p]);(u!=null||n.attrs.className!=null)&&(s.className=u!=null?n.attrs.className!=null?String(n.attrs.className)+" "+String(u):u:n.attrs.className!=null?n.attrs.className:null),f&&(s.class=null);for(var p in s)if(ye.call(s,p)&&p!=="key"){i.attrs=s;break}return i}function Qt(n){if(n==null||typeof n!="string"&&typeof n!="function"&&typeof n.view!="function")throw Error("The selector must be either a string or a component.");var i=Vt.apply(1,arguments);return typeof n=="string"&&(i.children=Ht.normalizeChildren(i.children),n!=="[")?Kt(Ct[n]||Gt(n),i):(i.tag=n,i)}var kt=Qt,Yt=ce(),Jt=function(n){return n==null&&(n=""),Yt("<",void 0,void 0,n,void 0,void 0)},Xt=ce(),Zt=Rt,Wt=function(){var n=Zt.apply(0,arguments);return n.tag="[",n.children=Xt.normalizeChildren(n.children),n},Je=kt;Je.trust=Jt;Je.fragment=Wt;var er=Je,ke={exports:{}},Ie,lt;function Et(){if(lt)return Ie;lt=1;var n=function(i){if(!(this instanceof n))throw new Error("Promise must be called with 'new'.");if(typeof i!="function")throw new TypeError("executor must be a function.");var s=this,f=[],u=[],l=d(f,!0),p=d(u,!1),y=s._instance={resolvers:f,rejectors:u},h=typeof setImmediate=="function"?setImmediate:setTimeout;function d(C,_){return function $(E){var w;try{if(_&&E!=null&&(typeof E=="object"||typeof E=="function")&&typeof(w=E.then)=="function"){if(E===s)throw new TypeError("Promise can't be resolved with itself.");g(w.bind(E))}else h(function(){!_&&C.length===0&&console.error("Possible unhandled promise rejection:",E);for(var v=0;v<C.length;v++)C[v](E);f.length=0,u.length=0,y.state=_,y.retry=function(){$(E)}})}catch(v){p(v)}}}function g(C){var _=0;function $(w){return function(v){_++>0||w(v)}}var E=$(p);try{C($(l),E)}catch(w){E(w)}}g(i)};return n.prototype.then=function(i,s){var f=this,u=f._instance;function l(d,g,C,_){g.push(function($){if(typeof d!="function")C($);else try{p(d($))}catch(E){y&&y(E)}}),typeof u.retry=="function"&&_===u.state&&u.retry()}var p,y,h=new n(function(d,g){p=d,y=g});return l(i,u.resolvers,p,!0),l(s,u.rejectors,y,!1),h},n.prototype.catch=function(i){return this.then(null,i)},n.prototype.finally=function(i){return this.then(function(s){return n.resolve(i()).then(function(){return s})},function(s){return n.resolve(i()).then(function(){return n.reject(s)})})},n.resolve=function(i){return i instanceof n?i:new n(function(s){s(i)})},n.reject=function(i){return new n(function(s,f){f(i)})},n.all=function(i){return new n(function(s,f){var u=i.length,l=0,p=[];if(i.length===0)s([]);else for(var y=0;y<i.length;y++)(function(h){function d(g){l++,p[h]=g,l===u&&s(p)}i[h]!=null&&(typeof i[h]=="object"||typeof i[h]=="function")&&typeof i[h].then=="function"?i[h].then(d,f):d(i[h])})(y)})},n.race=function(i){return new n(function(s,f){for(var u=0;u<i.length;u++)i[u].then(s,f)})},Ie=n,Ie}var Re=Et();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Re:window.Promise.prototype.finally||(window.Promise.prototype.finally=Re.prototype.finally),ke.exports=window.Promise):typeof me<"u"?(typeof me.Promise>"u"?me.Promise=Re:me.Promise.prototype.finally||(me.Promise.prototype.finally=Re.prototype.finally),ke.exports=me.Promise):ke.exports=Re;var Tt=ke.exports,De=ce(),tr=function(n){var i=n&&n.document,s,f={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function u(t){return t.attrs&&t.attrs.xmlns||f[t.tag]}function l(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function p(t){var e=t.state;try{return this.apply(e,arguments)}finally{l(t,e)}}function y(){try{return i.activeElement}catch{return null}}function h(t,e,r,c,o,m,R){for(var T=r;T<c;T++){var b=e[T];b!=null&&d(t,b,o,R,m)}}function d(t,e,r,c,o){var m=e.tag;if(typeof m=="string")switch(e.state={},e.attrs!=null&&xe(e.attrs,e,r),m){case"#":g(t,e,o);break;case"<":_(t,e,c,o);break;case"[":$(t,e,r,c,o);break;default:E(t,e,r,c,o)}else v(t,e,r,c,o)}function g(t,e,r){e.dom=i.createTextNode(e.children),k(t,e.dom,r)}var C={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function _(t,e,r,c){var o=e.children.match(/^\s*?<(\w+)/im)||[],m=i.createElement(C[o[1]]||"div");r==="http://www.w3.org/2000/svg"?(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",m=m.firstChild):m.innerHTML=e.children,e.dom=m.firstChild,e.domSize=m.childNodes.length,e.instance=[];for(var R=i.createDocumentFragment(),T;T=m.firstChild;)e.instance.push(T),R.appendChild(T);k(t,R,c)}function $(t,e,r,c,o){var m=i.createDocumentFragment();if(e.children!=null){var R=e.children;h(m,R,0,R.length,r,null,c)}e.dom=m.firstChild,e.domSize=m.childNodes.length,k(t,m,o)}function E(t,e,r,c,o){var m=e.tag,R=e.attrs,T=R&&R.is;c=u(e)||c;var b=c?T?i.createElementNS(c,m,{is:T}):i.createElementNS(c,m):T?i.createElement(m,{is:T}):i.createElement(m);if(e.dom=b,R!=null&&Ne(e,R,c),k(t,b,o),!x(e)&&e.children!=null){var N=e.children;h(b,N,0,N.length,r,null,c),e.tag==="select"&&R!=null&&fe(e,R)}}function w(t,e){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(xe(t.state,t,e),t.attrs!=null&&xe(t.attrs,t,e),t.instance=De.normalize(p.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function v(t,e,r,c,o){w(e,r),e.instance!=null?(d(t,e.instance,r,c,o),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function O(t,e,r,c,o,m){if(!(e===r||e==null&&r==null))if(e==null||e.length===0)h(t,r,0,r.length,c,o,m);else if(r==null||r.length===0)P(t,e,0,e.length);else{var R=e[0]!=null&&e[0].key!=null,T=r[0]!=null&&r[0].key!=null,b=0,N=0;if(!R)for(;N<e.length&&e[N]==null;)N++;if(!T)for(;b<r.length&&r[b]==null;)b++;if(R!==T)P(t,e,N,e.length),h(t,r,b,r.length,c,o,m);else if(T){for(var X=e.length-1,U=r.length-1,Ce,Z,L,Y,M,Oe;X>=N&&U>=b&&(Y=e[X],M=r[U],Y.key===M.key);)Y!==M&&q(t,Y,M,c,o,m),M.dom!=null&&(o=M.dom),X--,U--;for(;X>=N&&U>=b&&(Z=e[N],L=r[b],Z.key===L.key);)N++,b++,Z!==L&&q(t,Z,L,c,J(e,N,o),m);for(;X>=N&&U>=b&&!(b===U||Z.key!==M.key||Y.key!==L.key);)Oe=J(e,N,o),ue(t,Y,Oe),Y!==L&&q(t,Y,L,c,Oe,m),++b<=--U&&ue(t,Z,o),Z!==M&&q(t,Z,M,c,o,m),M.dom!=null&&(o=M.dom),N++,X--,Y=e[X],M=r[U],Z=e[N],L=r[b];for(;X>=N&&U>=b&&Y.key===M.key;)Y!==M&&q(t,Y,M,c,o,m),M.dom!=null&&(o=M.dom),X--,U--,Y=e[X],M=r[U];if(b>U)P(t,e,N,X+1);else if(N>X)h(t,r,b,U+1,c,o,m);else{var Dt=o,it=U-b+1,_e=new Array(it),qe=0,S=0,Se=2147483647,Fe=0,Ce,Le;for(S=0;S<it;S++)_e[S]=-1;for(S=U;S>=b;S--){Ce==null&&(Ce=W(e,N,X+1)),M=r[S];var he=Ce[M.key];he!=null&&(Se=he<Se?he:-1,_e[S-b]=he,Y=e[he],e[he]=null,Y!==M&&q(t,Y,M,c,o,m),M.dom!=null&&(o=M.dom),Fe++)}if(o=Dt,Fe!==X-N+1&&P(t,e,N,X+1),Fe===0)h(t,r,b,U+1,c,o,m);else if(Se===-1)for(Le=se(_e),qe=Le.length-1,S=U;S>=b;S--)L=r[S],_e[S-b]===-1?d(t,L,c,m,o):Le[qe]===S-b?qe--:ue(t,L,o),L.dom!=null&&(o=r[S].dom);else for(S=U;S>=b;S--)L=r[S],_e[S-b]===-1&&d(t,L,c,m,o),L.dom!=null&&(o=r[S].dom)}}else{var Me=e.length<r.length?e.length:r.length;for(b=b<N?b:N;b<Me;b++)Z=e[b],L=r[b],!(Z===L||Z==null&&L==null)&&(Z==null?d(t,L,c,m,J(e,b+1,o)):L==null?D(t,Z):q(t,Z,L,c,J(e,b+1,o),m));e.length>Me&&P(t,e,b,e.length),r.length>Me&&h(t,r,b,r.length,c,o,m)}}}function q(t,e,r,c,o,m){var R=e.tag,T=r.tag;if(R===T){if(r.state=e.state,r.events=e.events,It(r,e))return;if(typeof R=="string")switch(r.attrs!=null&&$e(r.attrs,r,c),R){case"#":te(e,r);break;case"<":oe(t,e,r,m,o);break;case"[":re(t,e,r,c,o,m);break;default:z(e,r,c,m)}else ee(t,e,r,c,o,m)}else D(t,e),d(t,r,c,m,o)}function te(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function oe(t,e,r,c,o){e.children!==r.children?(j(t,e),_(t,r,c,o)):(r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance)}function re(t,e,r,c,o,m){O(t,e.children,r.children,c,o,m);var R=0,T=r.children;if(r.dom=null,T!=null){for(var b=0;b<T.length;b++){var N=T[b];N!=null&&N.dom!=null&&(r.dom==null&&(r.dom=N.dom),R+=N.domSize||1)}R!==1&&(r.domSize=R)}}function z(t,e,r,c){var o=e.dom=t.dom;c=u(e)||c,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),St(e,t.attrs,e.attrs,c),x(e)||O(o,t.children,e.children,r,null,c)}function ee(t,e,r,c,o,m){if(r.instance=De.normalize(p.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");$e(r.state,r,c),r.attrs!=null&&$e(r.attrs,r,c),r.instance!=null?(e.instance==null?d(t,r.instance,c,m,o):q(t,e.instance,r.instance,c,o,m),r.dom=r.instance.dom,r.domSize=r.instance.domSize):e.instance!=null?(D(t,e.instance),r.dom=void 0,r.domSize=0):(r.dom=e.dom,r.domSize=e.domSize)}function W(t,e,r){for(var c=Object.create(null);e<r;e++){var o=t[e];if(o!=null){var m=o.key;m!=null&&(c[m]=e)}}return c}var ne=[];function se(t){for(var e=[0],r=0,c=0,o=0,m=ne.length=t.length,o=0;o<m;o++)ne[o]=t[o];for(var o=0;o<m;++o)if(t[o]!==-1){var R=e[e.length-1];if(t[R]<t[o]){ne[o]=R,e.push(o);continue}for(r=0,c=e.length-1;r<c;){var T=(r>>>1)+(c>>>1)+(r&c&1);t[e[T]]<t[o]?r=T+1:c=T}t[o]<t[e[r]]&&(r>0&&(ne[o]=e[r-1]),e[r]=o)}for(r=e.length,c=e[r-1];r-- >0;)e[r]=c,c=ne[c];return ne.length=0,e}function J(t,e,r){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return r}function ue(t,e,r){var c=i.createDocumentFragment();I(t,c,e),k(t,c,r)}function I(t,e,r){for(;r.dom!=null&&r.dom.parentNode===t;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")for(var c=0;c<r.instance.length;c++)e.appendChild(r.instance[c]);else if(r.tag!=="[")e.appendChild(r.dom);else if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var c=0;c<r.children.length;c++){var o=r.children[c];o!=null&&I(t,e,o)}break}}function k(t,e,r){r!=null?t.insertBefore(e,r):t.appendChild(e)}function x(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function P(t,e,r,c){for(var o=r;o<c;o++){var m=e[o];m!=null&&D(t,m)}}function D(t,e){var r=0,c=e.state,o,m;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var R=p.call(e.state.onbeforeremove,e);R!=null&&typeof R.then=="function"&&(r=1,o=R)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var R=p.call(e.attrs.onbeforeremove,e);R!=null&&typeof R.then=="function"&&(r|=2,m=R)}if(l(e,c),!r)Q(e),A(t,e);else{if(o!=null){var T=function(){r&1&&(r&=2,r||b())};o.then(T,T)}if(m!=null){var T=function(){r&2&&(r&=1,r||b())};m.then(T,T)}}function b(){l(e,c),Q(e),A(t,e)}}function j(t,e){for(var r=0;r<e.instance.length;r++)t.removeChild(e.instance[r])}function A(t,e){for(;e.dom!=null&&e.dom.parentNode===t;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")j(t,e);else{if(e.tag!=="["&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var r=0;r<e.children.length;r++){var c=e.children[r];c!=null&&A(t,c)}}break}}function Q(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&p.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&p.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&Q(t.instance);else{var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var c=e[r];c!=null&&Q(c)}}}function Ne(t,e,r){t.tag==="input"&&e.type!=null&&t.dom.setAttribute("type",e.type);var c=e!=null&&t.tag==="input"&&e.type==="file";for(var o in e)we(t,o,null,e[o],r,c)}function we(t,e,r,c,o,m){if(!(e==="key"||e==="is"||c==null||et(e)||r===c&&!Ft(t,e)&&typeof c!="object"||e==="type"&&t.tag==="input")){if(e[0]==="o"&&e[1]==="n")return nt(t,e,c);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),c);else if(e==="style")rt(t.dom,r,c);else if(tt(t,e,o)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+c&&(m||t.dom===y())||t.tag==="select"&&r!==null&&t.dom.value===""+c||t.tag==="option"&&r!==null&&t.dom.value===""+c)return;if(m&&""+c!=""){console.error("`value` is read-only on file inputs!");return}}t.dom[e]=c}else typeof c=="boolean"?c?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,c)}}function pe(t,e,r,c){if(!(e==="key"||e==="is"||r==null||et(e)))if(e[0]==="o"&&e[1]==="n")nt(t,e,void 0);else if(e==="style")rt(t.dom,r,null);else if(tt(t,e,c)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===y()))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var o=e.indexOf(":");o!==-1&&(e=e.slice(o+1)),r!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function fe(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var r=""+e.value;(t.dom.value!==r||t.dom.selectedIndex===-1)&&(t.dom.value=r)}"selectedIndex"in e&&we(t,"selectedIndex",null,e.selectedIndex,void 0)}function St(t,e,r,c){if(e&&e===r&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),r!=null){t.tag==="input"&&r.type!=null&&t.dom.setAttribute("type",r.type);var o=t.tag==="input"&&r.type==="file";for(var m in r)we(t,m,e&&e[m],r[m],c,o)}var R;if(e!=null)for(var m in e)(R=e[m])!=null&&(r==null||r[m]==null)&&pe(t,m,R,c)}function Ft(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&t.dom===y()||t.tag==="option"&&t.dom.parentNode===i.activeElement}function et(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function tt(t,e,r){return r===void 0&&(t.tag.indexOf("-")>-1||t.attrs!=null&&t.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}var Lt=/[A-Z]/g;function jt(t){return"-"+t.toLowerCase()}function Pe(t){return t[0]==="-"&&t[1]==="-"?t:t==="cssFloat"?"float":t.replace(Lt,jt)}function rt(t,e,r){if(e!==r)if(r==null)t.style.cssText="";else if(typeof r!="object")t.style.cssText=r;else if(e==null||typeof e!="object"){t.style.cssText="";for(var c in r){var o=r[c];o!=null&&t.style.setProperty(Pe(c),String(o))}}else{for(var c in r){var o=r[c];o!=null&&(o=String(o))!==String(e[c])&&t.style.setProperty(Pe(c),o)}for(var c in e)e[c]!=null&&r[c]==null&&t.style.removeProperty(Pe(c))}}function Ae(){this._=s}Ae.prototype=Object.create(null),Ae.prototype.handleEvent=function(t){var e=this["on"+t.type],r;typeof e=="function"?r=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),r===!1&&(t.preventDefault(),t.stopPropagation())};function nt(t,e,r){if(t.events!=null){if(t.events._=s,t.events[e]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(t.events=new Ae,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r)}function xe(t,e,r){typeof t.oninit=="function"&&p.call(t.oninit,e),typeof t.oncreate=="function"&&r.push(p.bind(t.oncreate,e))}function $e(t,e,r){typeof t.onupdate=="function"&&r.push(p.bind(t.onupdate,e))}function It(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var r=p.call(t.attrs.onbeforeupdate,t,e);if(r!==void 0&&!r)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var r=p.call(t.state.onbeforeupdate,t,e);if(r!==void 0&&!r)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var be;return function(t,e,r){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(be!=null&&t.contains(be))throw new TypeError("Node is currently being rendered to and thus is locked.");var c=s,o=be,m=[],R=y(),T=t.namespaceURI;be=t,s=typeof r=="function"?r:void 0;try{t.vnodes==null&&(t.textContent=""),e=De.normalizeChildren(Array.isArray(e)?e:[e]),O(t,t.vnodes,e,m,null,T==="http://www.w3.org/1999/xhtml"?void 0:T),t.vnodes=e,R!=null&&y()!==R&&typeof R.focus=="function"&&R.focus();for(var b=0;b<m.length;b++)m[b]()}finally{s=c,be=o}}},vt=tr(typeof window<"u"?window:null),ut=ce(),rr=function(n,i,s){var f=[],u=!1,l=-1;function p(){for(l=0;l<f.length;l+=2)try{n(f[l],ut(f[l+1]),y)}catch(d){s.error(d)}l=-1}function y(){u||(u=!0,i(function(){u=!1,p()}))}y.sync=p;function h(d,g){if(g!=null&&g.view==null&&typeof g!="function")throw new TypeError("m.mount expects a component, not a vnode.");var C=f.indexOf(d);C>=0&&(f.splice(C,2),C<=l&&(l-=2),n(d,[])),g!=null&&(f.push(d,g),n(d,ut(g),y))}return{mount:h,redraw:y}},nr=vt,Xe=rr(nr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),ze,ct;function Nt(){return ct||(ct=1,ze=function(n){if(Object.prototype.toString.call(n)!=="[object Object]")return"";var i=[];for(var s in n)f(s,n[s]);return i.join("&");function f(u,l){if(Array.isArray(l))for(var p=0;p<l.length;p++)f(u+"["+p+"]",l[p]);else if(Object.prototype.toString.call(l)==="[object Object]")for(var p in l)f(u+"["+p+"]",l[p]);else i.push(encodeURIComponent(u)+(l!=null&&l!==""?"="+encodeURIComponent(l):""))}}),ze}var Ue,ft;function Pt(){if(ft)return Ue;ft=1;var n=Te;return Ue=Object.assign||function(i,s){for(var f in s)n.call(s,f)&&(i[f]=s[f])},Ue}var He,ot;function Ze(){if(ot)return He;ot=1;var n=Nt(),i=Pt();return He=function(s,f){if(/:([^\/\.-]+)(\.{3})?:/.test(s))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(f==null)return s;var u=s.indexOf("?"),l=s.indexOf("#"),p=l<0?s.length:l,y=u<0?p:u,h=s.slice(0,y),d={};i(d,f);var g=h.replace(/:([^\/\.-]+)(\.{3})?/g,function(O,q,te){return delete d[q],f[q]==null?O:te?f[q]:encodeURIComponent(String(f[q]))}),C=g.indexOf("?"),_=g.indexOf("#"),$=_<0?g.length:_,E=C<0?$:C,w=g.slice(0,E);u>=0&&(w+=s.slice(u,p)),C>=0&&(w+=(u<0?"?":"&")+g.slice(C,$));var v=n(d);return v&&(w+=(u<0&&C<0?"?":"&")+v),l>=0&&(w+=s.slice(l)),_>=0&&(w+=(l<0?"":"&")+g.slice(_)),w},He}var ir=Ze(),pt=Te,ar=function(n,i,s){var f=0;function u(y){return new i(y)}u.prototype=i.prototype,u.__proto__=i;function l(y){return function(h,d){typeof h!="string"?(d=h,h=h.url):d==null&&(d={});var g=new i(function(E,w){y(ir(h,d.params),d,function(v){if(typeof d.type=="function")if(Array.isArray(v))for(var O=0;O<v.length;O++)v[O]=new d.type(v[O]);else v=new d.type(v);E(v)},w)});if(d.background===!0)return g;var C=0;function _(){--C===0&&typeof s=="function"&&s()}return $(g);function $(E){var w=E.then;return E.constructor=u,E.then=function(){C++;var v=w.apply(E,arguments);return v.then(_,function(O){if(_(),C===0)throw O}),$(v)},E}}}function p(y,h){for(var d in y.headers)if(pt.call(y.headers,d)&&d.toLowerCase()===h)return!0;return!1}return{request:l(function(y,h,d,g){var C=h.method!=null?h.method.toUpperCase():"GET",_=h.body,$=(h.serialize==null||h.serialize===JSON.serialize)&&!(_ instanceof n.FormData||_ instanceof n.URLSearchParams),E=h.responseType||(typeof h.extract=="function"?"":"json"),w=new n.XMLHttpRequest,v=!1,O=!1,q=w,te,oe=w.abort;w.abort=function(){v=!0,oe.call(this)},w.open(C,y,h.async!==!1,typeof h.user=="string"?h.user:void 0,typeof h.password=="string"?h.password:void 0),$&&_!=null&&!p(h,"content-type")&&w.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof h.deserialize!="function"&&!p(h,"accept")&&w.setRequestHeader("Accept","application/json, text/*"),h.withCredentials&&(w.withCredentials=h.withCredentials),h.timeout&&(w.timeout=h.timeout),w.responseType=E;for(var re in h.headers)pt.call(h.headers,re)&&w.setRequestHeader(re,h.headers[re]);w.onreadystatechange=function(z){if(!v&&z.target.readyState===4)try{var ee=z.target.status>=200&&z.target.status<300||z.target.status===304||/^file:\/\//i.test(y),W=z.target.response,ne;if(E==="json"){if(!z.target.responseType&&typeof h.extract!="function")try{W=JSON.parse(z.target.responseText)}catch{W=null}}else(!E||E==="text")&&W==null&&(W=z.target.responseText);if(typeof h.extract=="function"?(W=h.extract(z.target,h),ee=!0):typeof h.deserialize=="function"&&(W=h.deserialize(W)),ee)d(W);else{var se=function(){try{ne=z.target.responseText}catch{ne=W}var J=new Error(ne);J.code=z.target.status,J.response=W,g(J)};w.status===0?setTimeout(function(){O||se()}):se()}}catch(J){g(J)}},w.ontimeout=function(z){O=!0;var ee=new Error("Request timed out");ee.code=z.target.status,g(ee)},typeof h.config=="function"&&(w=h.config(w,h,y)||w,w!==q&&(te=w.abort,w.abort=function(){v=!0,te.call(this)})),_==null?w.send():typeof h.serialize=="function"?w.send(h.serialize(_)):_ instanceof n.FormData||_ instanceof n.URLSearchParams?w.send(_):w.send(JSON.stringify(_))}),jsonp:l(function(y,h,d,g){var C=h.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+f++,_=n.document.createElement("script");n[C]=function($){delete n[C],_.parentNode.removeChild(_),d($)},_.onerror=function(){delete n[C],_.parentNode.removeChild(_),g(new Error("JSONP request failed"))},_.src=y+(y.indexOf("?")<0?"?":"&")+encodeURIComponent(h.callbackKey||"callback")+"="+encodeURIComponent(C),n.document.documentElement.appendChild(_)})}},sr=Tt,lr=Xe,ur=ar(typeof window<"u"?window:null,sr,lr.redraw),Ve,ht;function At(){if(ht)return Ve;ht=1;function n(i){try{return decodeURIComponent(i)}catch{return i}}return Ve=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var s=i.split("&"),f={},u={},l=0;l<s.length;l++){var p=s[l].split("="),y=n(p[0]),h=p.length===2?n(p[1]):"";h==="true"?h=!0:h==="false"&&(h=!1);var d=y.split(/\]\[?|\[/),g=u;y.indexOf("[")>-1&&d.pop();for(var C=0;C<d.length;C++){var _=d[C],$=d[C+1],E=$==""||!isNaN(parseInt($,10));if(_===""){var y=d.slice(0,C).join();f[y]==null&&(f[y]=Array.isArray(g)?g.length:0),_=f[y]++}else if(_==="__proto__")break;if(C===d.length-1)g[_]=h;else{var w=Object.getOwnPropertyDescriptor(g,_);w!=null&&(w=w.value),w==null&&(g[_]=w=E?[]:{}),g=w}}}return u},Ve}var Be,mt;function We(){if(mt)return Be;mt=1;var n=At();return Be=function(i){var s=i.indexOf("?"),f=i.indexOf("#"),u=f<0?i.length:f,l=s<0?u:s,p=i.slice(0,l).replace(/\/{2,}/g,"/");return p?(p[0]!=="/"&&(p="/"+p),p.length>1&&p[p.length-1]==="/"&&(p=p.slice(0,-1))):p="/",{path:p,params:s<0?{}:n(i.slice(s+1,u))}},Be}var Ge,yt;function cr(){if(yt)return Ge;yt=1;var n=We();return Ge=function(i){var s=n(i),f=Object.keys(s.params),u=[],l=new RegExp("^"+s.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(p,y,h){return y==null?"\\"+p:(u.push({k:y,r:h==="..."}),h==="..."?"(.*)":h==="."?"([^/]+)\\.":"([^/]+)"+(h||""))})+"$");return function(p){for(var y=0;y<f.length;y++)if(s.params[f[y]]!==p.params[f[y]])return!1;if(!u.length)return l.test(p.path);var h=l.exec(p.path);if(h==null)return!1;for(var y=0;y<u.length;y++)p.params[u[y].k]=u[y].r?h[y+1]:decodeURIComponent(h[y+1]);return!0}},Ge}var Ke,gt;function xt(){if(gt)return Ke;gt=1;var n=Te,i=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Ke=function(s,f){var u={};if(f!=null)for(var l in s)n.call(s,l)&&!i.test(l)&&f.indexOf(l)<0&&(u[l]=s[l]);else for(var l in s)n.call(s,l)&&!i.test(l)&&(u[l]=s[l]);return u},Ke}var Qe,dt;function fr(){if(dt)return Qe;dt=1;var n=ce(),i=kt,s=Tt,f=Ze(),u=We(),l=cr(),p=Pt(),y=xt(),h={};function d(g){try{return decodeURIComponent(g)}catch{return g}}return Qe=function(g,C){var _=g==null?null:typeof g.setImmediate=="function"?g.setImmediate:g.setTimeout,$=s.resolve(),E=!1,w=!1,v=0,O,q,te=h,oe,re,z,ee,W={onbeforeupdate:function(){return v=v?2:1,!(!v||h===te)},onremove:function(){g.removeEventListener("popstate",J,!1),g.removeEventListener("hashchange",se,!1)},view:function(){if(!(!v||h===te)){var k=[n(oe,re.key,re)];return te&&(k=te.render(k[0])),k}}},ne=I.SKIP={};function se(){E=!1;var k=g.location.hash;I.prefix[0]!=="#"&&(k=g.location.search+k,I.prefix[0]!=="?"&&(k=g.location.pathname+k,k[0]!=="/"&&(k="/"+k)));var x=k.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,d).slice(I.prefix.length),P=u(x);p(P.params,g.history.state);function D(A){console.error(A),ue(q,null,{replace:!0})}j(0);function j(A){for(;A<O.length;A++)if(O[A].check(P)){var Q=O[A].component,Ne=O[A].route,we=Q,pe=ee=function(fe){if(pe===ee){if(fe===ne)return j(A+1);oe=fe!=null&&(typeof fe.view=="function"||typeof fe=="function")?fe:"div",re=P.params,z=x,ee=null,te=Q.render?Q:null,v===2?C.redraw():(v=2,C.redraw.sync())}};Q.view||typeof Q=="function"?(Q={},pe(we)):Q.onmatch?$.then(function(){return Q.onmatch(P.params,x,Ne)}).then(pe,x===q?null:D):pe("div");return}if(x===q)throw new Error("Could not resolve default route "+q+".");ue(q,null,{replace:!0})}}function J(){E||(E=!0,_(se))}function ue(k,x,P){if(k=f(k,x),w){J();var D=P?P.state:null,j=P?P.title:null;P&&P.replace?g.history.replaceState(D,j,I.prefix+k):g.history.pushState(D,j,I.prefix+k)}else g.location.href=I.prefix+k}function I(k,x,P){if(!k)throw new TypeError("DOM element being rendered to does not exist.");if(O=Object.keys(P).map(function(j){if(j[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(j))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:j,component:P[j],check:l(j)}}),q=x,x!=null){var D=u(x);if(!O.some(function(j){return j.check(D)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof g.history.pushState=="function"?g.addEventListener("popstate",J,!1):I.prefix[0]==="#"&&g.addEventListener("hashchange",se,!1),w=!0,C.mount(k,W),se()}return I.set=function(k,x,P){ee!=null&&(P=P||{},P.replace=!0),ee=null,ue(k,x,P)},I.get=function(){return z},I.prefix="#!",I.Link={view:function(k){var x=i(k.attrs.selector||"a",y(k.attrs,["options","params","selector","onclick"]),k.children),P,D,j;return(x.attrs.disabled=!!x.attrs.disabled)?(x.attrs.href=null,x.attrs["aria-disabled"]="true"):(P=k.attrs.options,D=k.attrs.onclick,j=f(x.attrs.href,k.attrs.params),x.attrs.href=I.prefix+j,x.attrs.onclick=function(A){var Q;typeof D=="function"?Q=D.call(A.currentTarget,A):D==null||typeof D!="object"||typeof D.handleEvent=="function"&&D.handleEvent(A),Q!==!1&&!A.defaultPrevented&&(A.button===0||A.which===0||A.which===1)&&(!A.currentTarget.target||A.currentTarget.target==="_self")&&!A.ctrlKey&&!A.metaKey&&!A.shiftKey&&!A.altKey&&(A.preventDefault(),A.redraw=!1,I.set(j,null,P))}),x}},I.param=function(k){return re&&k!=null?re[k]:re},I},Qe}var Ye,wt;function or(){if(wt)return Ye;wt=1;var n=Xe;return Ye=fr()(typeof window<"u"?window:null,n),Ye}var ve=er,$t=ur,Mt=Xe,H=function(){return ve.apply(this,arguments)};H.m=ve;H.trust=ve.trust;H.fragment=ve.fragment;H.Fragment="[";H.mount=Mt.mount;H.route=or();H.render=vt;H.redraw=Mt.redraw;H.request=$t.request;H.jsonp=$t.jsonp;H.parseQueryString=At();H.buildQueryString=Nt();H.parsePathname=We();H.buildPathname=Ze();H.vnode=ce();H.PromisePolyfill=Et();H.censor=xt();var pr=H;const a=zt(pr);var ie={menu:"feed"};const Ot=()=>{var n,i;const s=f=>{n=f.attrs.text,i=f.attrs.ticker};return{oninit:function(f){s(f)},view:f=>a("div",a("h1.center-text-margin",a("a",{href:"#!/"},n)),a("form",{onsubmit:u=>{u.preventDefault(),a.route.set(`/nse/company/${i}/${ie.menu}`)}},a("fieldset",{role:"group"},a("input",{type:"search",id:"search-input",name:"search",placeholder:"Ticker",autocomplete:"off",value:i,oninput:u=>{i=u.target.value}}),a("input",{type:"submit",value:"Submit"})),a("small.center-text","search using ticker or company name")))}};var hr=()=>({view:function(n){return a(".container",[a(Ot,{text:"Nvizio",ticker:n.attrs.ticker}),a(".content",n.children),a(ScrollUpComponent)])}}),le={list:[],errorMessage:"",loadSampleFeed:function(){le.list=[{ticker:"KSCL",company_name:"Kaveri Seeds",subject:"Subject",publish_time:"01 Aug",details:"Details",attachment:"url"}]},load:function(){return a.request({method:"GET",url:"/nse/feed"}).then(function(n){le.list=n,le.errorMessage=""}).catch(function(n){le.list=[],le.errorMessage="",n.response&&n.response.message?le.errorMessage=n.response.message:le.errorMessage="Error downloading feed from the server."})}};const ae=(n,i)=>`/nse/company/${n}/${i}`,Ee=(n,i)=>(n/1e5).toFixed(i),qt=(n,i)=>(n/1e7).toFixed(i);var mr=()=>{var n=!1;const i=s=>{n=s.attrs.showCompany,ie.menu="feed",le.load()};return{oninit:function(s){i(s)},view:s=>a(hr,s.attrs,a("div",le.list.map(f=>a("hgroup",[n?a("h4",[a("a",{href:`#!${ae(f.ticker,"feed")}`},f.company_name)]):null,a("h5",f.subject),a("small",f.publish_time),a("blockquote",[a("span",f.details),a("br"),a("small",[a("a",{href:f.attachment,rel:"noopener noreferrer"},"Link")])])]))))}};const yr=()=>({view:function(n){return a("div",a("nav",a("ul",a("li",a(a.route.Link,{href:ae(n.attrs.ticker,"feed"),class:ie.menu==="feed"?"active":""},a("h4","Feed"))),a("li",a(a.route.Link,{href:ae(n.attrs.ticker,"financials"),class:ie.menu==="financials"?"active":""},a("h4","Financials"))),a("li",a(a.route.Link,{href:ae(n.attrs.ticker,"shp"),class:ie.menu==="shp"?"active":""},a("h4","Shareholding"))),a("li",a(a.route.Link,{href:ae(n.attrs.ticker,"insider"),class:ie.menu==="insider"?"active":""},a("h4","Insider"))))),a("h3",n.attrs.ticker.toUpperCase()))}}),gr=()=>({view:function(){return a("a",{id:"back-to-top",href:"#",onclick:function(n){n.preventDefault(),document.documentElement.scrollIntoView({behavior:"smooth"})}},a("i",{class:"fas fa-angle-up"}))}}),de=()=>({view:function(n){return a(".container",a(Ot,{text:"Nvizio",ticker:n.attrs.ticker}),a(yr,{ticker:n.attrs.ticker}),a(".content",n.children),a(gr))}});var V={list:[],searchResults:[],errorMessage:"",loadSampleFeed:function(n){V.list=[{ticker:n,company_name:n,subject:"Subject",publish_time:"01 Aug",details:"Details",attachment:"url"}]},load:function(n){return a.request({method:"GET",url:`/nse/company/${n}/feed`}).then(function(i){V.list=i,V.searchResults=[],V.errorMessage=""}).catch(function(i){i.code===300?(V.list=[],V.searchResults=i.response,V.errorMessage=""):(V.list=[],V.searchResults=[],i.response&&i.response.message?V.errorMessage=i.response.message:V.errorMessage="No results found.")})}};const dr=()=>{var n=!1;const i=s=>{n=s.attrs.showCompany,ie.menu="feed",V.load(s.attrs.ticker)};return{oninit:function(s){i(s)},onbeforeupdate:function(s,f){return s.attrs.ticker!==f.attrs.ticker&&i(s),!0},onupdate:function(){window.scrollTo(0,0)},view:s=>{let f=V.searchResults.length>0,u=V.errorMessage!=="";return a(de,s.attrs,u?a("div",a("p",V.errorMessage)):f?a("div",a("ul",V.searchResults.map(l=>a("li",a("a",{href:`#!${ae(l.ticker,"feed")}`},l.company_name))))):a("div",V.list.map(l=>a("hgroup",[n?a("h4",[a("a",{href:ae(l.ticker,"feed")},l.company_name)]):null,a("h5",l.subject),a("small",l.publish_time),a("blockquote",[a("span",l.details),a("br"),a("small",[a("a",{href:l.attachment,rel:"noopener noreferrer"},"Link")])])]))))}}};var B={list:[],searchResults:[],errorMessage:"",loadSampleShareholding:function(n){B.list=[{as_on_date:n,promoter_group:30,public:50,employee_trusts:20}]},load:function(n){return a.request({method:"GET",url:`/nse/company/${n}/shp`}).then(function(i){B.list=i,B.searchResults=[],B.errorMessage=""}).catch(function(i){i.code===300?(B.list=[],B.searchResults=i.response,B.errorMessage=""):(B.list=[],B.searchResults=[],i.response&&i.response.message?B.errorMessage=i.response.message:B.errorMessage="No results found.")})}};const wr=()=>{const n=i=>{ie.menu="shp",B.load(i.attrs.ticker)};return{oninit:function(i){n(i)},onbeforeupdate:function(i,s){return i.attrs.ticker!==s.attrs.ticker&&n(i),!0},onupdate:function(){window.scrollTo(0,0)},view:i=>{let s=B.searchResults.length>0,f=B.errorMessage!=="";const u=["Date","Promoter","Public","Employee Trusts"];return a(de,i.attrs,f?a("div",a("p",B.errorMessage)):s?a("div",a("ul",B.searchResults.map(l=>a("li",a("a",{href:`#!${ae(l.ticker,"shp")}`},l.company_name))))):a("table.container",a("thead",a("tr",u.map(l=>a("th",l)))),a("tbody",B.list.map(l=>a("tr",a("td",l.as_on_date),a("td",l.promoter_group),a("td",l.public),a("td",l.employee_trusts))))))}}};var G={list:[],searchResults:[],errorMessage:"",loadSampleInsider:function(n){G.list=[{ticker:n,filing_date:n,transaction_type:"Sell",transaction_value:102,name:"Suman",person_category:"Director"}]},load:function(n){return a.request({method:"GET",url:`/nse/company/${n}/insider`}).then(function(i){G.list=i,G.searchResults=[],G.errorMessage=""}).catch(function(i){i.code===300?(G.list=[],G.searchResults=i.response,G.errorMessage=""):(G.list=[],G.searchResults=[],i.response&&i.response.message?G.errorMessage=i.response.message:G.errorMessage="No results found.")})}};const br=()=>{const n=i=>{ie.menu="insider",G.load(i.attrs.ticker)};return{oninit:function(i){n(i)},onbeforeupdate:function(i,s){return i.attrs.ticker!==s.attrs.ticker&&n(i),!0},onupdate:function(){window.scrollTo(0,0)},view:i=>{let s=G.searchResults.length>0,f=G.errorMessage!=="";const u=["Date","Type","Value (Lakhs)","Person","Person Category"];return a(de,i.attrs,f?a("div",a("p",G.errorMessage)):s?a("div",a("ul",G.searchResults.map(l=>a("li",a("a",{href:`#!${ae(l.ticker,"insider")}`},l.company_name))))):a("table.container",a("thead",a("tr",u.map(l=>a("th",l)))),a("tbody",G.list.map(l=>a("tr",a("td",l.filing_date),a("td",{class:l.transaction_type.toUpperCase()==="SELL"?"sell-type":l.transaction_type.toUpperCase()==="BUY"?"buy-type":""},l.transaction_type),a("td",Ee(l.transaction_value,2)),a("td",l.name),a("td",l.person_category))))))}}};var K={list:[],searchResults:[],errorMessage:"",loadSampleFinancials:function(n){K.list=[{filing_date:n,company_name:n,fiscal_year:2023,fiscal_period:"Q3",props:{consolidated:"Standalone",audited:"Un-audited"},doc:"link"}]},load:function(n){return a.request({method:"GET",url:`/nse/company/${n}/financials`}).then(function(i){K.list=i,K.searchResults=[],K.errorMessage=""}).catch(function(i){i.code===300?(K.list=[],K.searchResults=i.response,K.errorMessage=""):(K.list=[],K.searchResults=[],i.response&&i.response.message?K.errorMessage=i.response.message:K.errorMessage="No results found.")})}};const _r=()=>{const n=i=>{ie.menu="financials",K.load(i.attrs.ticker)};return{oninit:function(i){n(i)},onbeforeupdate:function(i,s){return i.attrs.ticker!==s.attrs.ticker&&n(i),!0},onupdate:function(){window.scrollTo(0,0)},view:i=>{let s=K.searchResults.length>0,f=K.errorMessage!=="";const u=["FiscalYear","FiscalPeriod","Consolidated","Audited","Link"];return a(de,i.attrs,f?a("div",a("p",K.errorMessage)):s?a("div",a("ul",K.searchResults.map(l=>a("li",a("a",{href:`#!${ae(l.ticker,"financials")}`},l.company_name))))):a("table.container",a("thead",a("tr",u.map(l=>a("th",l)))),a("tbody",K.list.map(l=>a("tr",a("td",l.fiscal_year),a("td",l.fiscal_period),a("td",l.props.consolidated),a("td",l.props.audited),a("td",a("a",{href:`#!/nse/company/${i.attrs.ticker}/financials/${l.filing_id}/docs`},"Link")))))))}}};var ge={list:[],loadSampleFinancialDocs:function(n,i){ge.list=[]},load:function(n,i){return a.request({method:"GET",url:`/nse/company/${n}/financials/${i}/docs`}).then(function(s){ge.list=s}).catch(function(s){ge.list=[]})}};const Rr=()=>{const n={QuarterlyAndHalfYearlyFinancialResultFormatIndAS:"Income Statement",DisclosureOfGeneralInformationAboutCompany:"General Information",StatementOfAssetsAndLiabilitiesIndAS:"Balance Sheet",CashFlowStatementIndirect:"Cashflow (Indirect)",CashFlowStatementDirect:"Cashflow (Direct)",QuarterlyAndHalfYearlyFinancialResultFormatBanking:"Income Statement",StatementOfAssetsAndLiabilitiesBanking:"Balance Sheet",QuarterlyAndHalfYearlyFinancialResultFormatNBFC:"Income Statement",StatementOfAssetsAndLiabilitiesNBFC:"Balance Sheet"},i=f=>n[f]||f,s=f=>{ie.menu="financials",ge.load(f.attrs.ticker,f.attrs.filing_id)};return{oninit:function(f){s(f)},onbeforeupdate:function(f,u){return f.attrs.ticker!==u.attrs.ticker&&s(f),!0},view:f=>{const u=["Section"];return a(de,f.attrs,ge.list.length===0?null:a("table",a("thead",a("tr",u.map(l=>a("th",l)))),a("tbody",ge.list.map(l=>a("tr",l.type==="statement"?[a("td",a("a",{href:`#!/nse/company/${f.attrs.ticker}/financials/${l.filing_id}/docs/${l.doc_id}`},i(l.title)))]:null)))))}}},Cr={view:n=>{const{checked:i,callback:s,label1:f,label2:u}=n.attrs;return a("div",a("label",f,a("input",{role:"switch",type:"checkbox",checked:i,onclick:l=>{s(l.target.checked)}}),u))}},kr=n=>n===0?!0:typeof n=="string"||Array.isArray(n)?n.length===0:typeof n=="object"&&n!==null?Object.keys(n).length===0:n==null,Er=n=>n.every(kr);function bt(n,i){let s=[],f=i===Ee?"Lakhs":"Crores";return s.push(`(INR in ${f})`),s.push(...n.data.contexts.map(u=>u.type==="duration"?`${u.duration} months<br/>${u.end_date}`:u.end_date)),s}function _t(n,i){if((n.concept.dimensions===null||n.concept.dimensions.length===0)&&n.facts&&n.facts.length>0){if(n.concept.name==="DisclosureOfNotesOnFinancialResultsExplanatoryTextBlock")return[];let s=n.concept.type==="monetaryItemType",f=n.concept.type==="percentItemType";const u=n.facts.map(l=>l.is_nil?[]:l.is_text?l.text:l.value==0?0:s?i(l.value,0):f?`${(l.value*100).toFixed(2)} %`:l.value);if(!Er(u))return[n.concept.label,...u]}return[]}var F={unit_function:Ee,headers:[],rows:[],result:[],loadSampleFinancialDocs:function(n,i,s){F.headers=[],F.rows=[],F.result=[]},load:function(n,i,s){return a.request({method:"GET",url:`/nse/company/${n}/financials/${i}/docs/${s}`}).then(function(f){F.result=f,f.length>0&&(F.headers=bt(f[0],F.unit_function),F.rows=f[0].data.items.map(u=>({is_total:u.concept.is_total||u.concept.label_type==="net",is_abstract:u.concept.is_abstract,elements:_t(u,F.unit_function)})))}).catch(function(f){console.error(f)})},toggleUnit:function(n){n?F.unit_function=qt:F.unit_function=Ee,F.headers=bt(F.result[0],F.unit_function),F.rows=F.result[0].data.items.map(i=>({is_total:i.concept.is_total,is_abstract:i.concept.is_abstract,elements:_t(i,F.unit_function)}))}};const Tr=()=>{const n=i=>{ie.menu="financials",F.load(i.attrs.ticker,i.attrs.filing_id,i.attrs.doc_id)};return{oninit:function(i){n(i)},onbeforeupdate:function(i,s){return i.attrs.ticker!==s.attrs.ticker&&n(i),!0},view:i=>a(de,i.attrs,F.rows.length===0?null:a("div",a(Cr,{checked:F.unit_function===qt,label1:"Lakhs ",label2:"Crores",callback:F.toggleUnit}),a("table",a("thead",a("tr",F.headers.map(s=>a("th",a.trust(s))))),a("tbody",F.rows.map(s=>a("tr",{class:s.is_total?"total-row":""},s.elements.map(f=>a("td",f))))))))}},vr={"/":{render:()=>a(mr,{showCompany:!0})},"/nse/company/:ticker/feed":{render:n=>a(dr,{ticker:n.attrs.ticker,showCompany:!1})},"/nse/company/:ticker/shp":{render:n=>a(wr,{ticker:n.attrs.ticker})},"/nse/company/:ticker/insider":{render:n=>a(br,{ticker:n.attrs.ticker})},"/nse/company/:ticker/financials":{render:n=>a(_r,{ticker:n.attrs.ticker})},"/nse/company/:ticker/financials/:filing_id/docs":{render:n=>a(Rr,{ticker:n.attrs.ticker,filing_id:n.attrs.filing_id})},"/nse/company/:ticker/financials/:filing_id/docs/:doc_id":{render:n=>a(Tr,{ticker:n.attrs.ticker,filing_id:n.attrs.filing_id,doc_id:n.attrs.doc_id})}};a.route(document.getElementById("app"),"/",vr);
